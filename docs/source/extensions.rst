.. _extensions:

**********
Расширения
**********

Расширения **Caelum** позволяют внедрять определенный функционал непосредственно в работу сервисного узла.

Сам использует расширения для обеспечения своей работы.
itesym - программа регистрации новых символов и категорий при поступлении в систему новых пунктов (*items*).
обработчик потока запросов на регистрацию событий регистрирует события в базе данных и ретранслирует после
обновлений.

TODO: пример топ акций по объему торгов
Или сюда нужен другой пример? Топ акций лучше пойдет в пример потоковых приложений.

Конфигурация

caelum.extension.builder.<ID>=[ON]:[ORDER]:<BUILDER_CLASS>

Где ID - идентификатор расширения, уникальный в пределах конфигурации узла.
ON - строки on или off соответственно включено или выключено
ORDER - число или лексема first, last или пустая строка
BUILDER_CLASS - строковый идентификатор класса-конструктора расширения

В случае если ON не указан, расширение считается включенным. Лексема first помещает расширение
в начало очереди запуска, а last - в конец. При наличии нескольких расширений с одинаковым
приоритетом запуска очередность их запуска определяется порядком сортировки идентификаторов.
Если не указан ORDER, то расширение будет запущено с обычным приоритетом между first и last.
Если у двух расширения совпадают приоритеты запуска (одинаковое значение ORDER), они будут
запущены в порядке сортировки идентификаторов. Допускается не указывать значение ON и/или ORDER.
При этом важно понимать, что двоеточие является маркером конца параметра. Если указан только
параметр ON, то между ним и классом билдера должно быть два двоеточия. Если указан только ORDER,
то между ним и классом билдера должно стоять одно двоеточие. Если не указаны оба параметра, то
двоеточия можно опустить. Если для расширения не указан ORDER, то оно будет запущено после всех
расширений, для которых указан числовой порядок и перед last. А если нет расширений с определенным
числовым порядком ORDER, то сразу после всех расширений с приоритетом first.
